<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unjumble</title>
<style>
body { font-family: Arial, sans-serif; }
.container { width: 100%; padding: 20px; box-sizing: border-box; font-size: 16px; }
.title { font-size: 40px; font-weight: bold; text-align: center; margin-bottom: 20px; }
.subtitle { font-size: 20px; margin-bottom: 10px; text-align: center; }
.counter { font-size: 24px; font-weight: bold; text-align: center; margin-bottom: 10px; }
.draggable-word { display: inline-flex; align-items: center; justify-content: center; cursor: pointer; margin: 5px; font-size: 20px; border: 1px solid black; padding: 2px 10px; border-radius: 5px; background-color: #f0f0f0; height: 30px; line-height: 1.5; vertical-align: middle; }
.correct-chunk { background-color: #d4edda; border-color: #c3e6cb; }
.wrong-chunk { background-color: #f8d7da; border-color: #f5c6cb; }
.dropzone-container { margin-top: 20px; margin-bottom: 20px; text-align: center; }
.dropzone { border: 1px dashed #007bff; min-height: 30px; font-size: 20px; height: auto; border-radius: 10px; display: inline-block; padding: 5px 10px; vertical-align: top; margin: 5px; }
.feedback-container { display: flex; align-items: center; justify-content: center; gap: 10px; margin-top: 10px; }
.feedback { font-weight: bold; font-size: 18px; text-align: center; }
button { padding: 10px 20px; background-color: #f9f9f9; border: 2px solid #ccc; color: #000; border-radius: 10px; cursor: pointer; }
button:hover { background-color: #A9A9A9; transform: translateY(-4px); }
.hide { display: none; }
#exerciseOutput { text-align: center; margin-bottom: 20px; }
</style>
</head>
<body onload="startGame()">
<div class="container">
  <div class="title">Unjumble</div>
  <div class="subtitle">Unjumble the words</div>
  <div class="counter" id="sentenceCounter"></div>

  <div id="dropZones" class="dropzone-container"></div>
  <div id="exerciseOutput"></div>

  <div class="feedback-container">
    <div id="feedback" class="feedback hide"></div>
    <button id="nextButton" class="hide" onclick="nextText()">Next</button>
  </div>

  <div class="input-container">
    <button id="resetButton" class="hide" onclick="resetActivity()">Restart</button>
  </div>
</div>

<script>
const englishSentences = [
 "It is one o’clock.",
"It is half past one.",
"It is two o’clock.",
"It is twenty past two.",
"It is three o’clock.",
"It is ten past three.",
"It is quarter past four.",
"It is five o’clock.",
"It is quarter to seven.",
"It is ten to eight.",

];

let randomizedSentences = [];
let currentTextIndex = 0;
let originalChunks = [];
let currentChunkIndex = 0;

function startGame() {
  randomizedSentences = shuffleArray([...englishSentences]);
  currentTextIndex = 0;
  generateChunk();
}

function generateChunk() {
  if (currentTextIndex >= randomizedSentences.length) {
    randomizedSentences = shuffleArray([...englishSentences]);
    currentTextIndex = 0;
  }

  const sentence = randomizedSentences[currentTextIndex];
  originalChunks = getWordChunks(sentence);
  const shuffledChunks = shuffleArray([...originalChunks]);

  // Drop zones
  const dropZones = document.getElementById('dropZones');
  dropZones.innerHTML = '';
  originalChunks.forEach(() => {
    const dropZone = document.createElement('div');
    dropZone.classList.add('dropzone');
    dropZones.appendChild(dropZone);
  });

  // Clickable words
  const exerciseOutput = document.getElementById('exerciseOutput');
  exerciseOutput.innerHTML = '';
  shuffledChunks.forEach(chunk => {
    const chunkElement = document.createElement('div');
    chunkElement.textContent = chunk.join(' ');
    chunkElement.classList.add('draggable-word');
    chunkElement.setAttribute('onclick', 'selectChunk(this)');
    exerciseOutput.appendChild(chunkElement);
  });

  document.getElementById('feedback').classList.add('hide');
  document.getElementById('nextButton').classList.add('hide');
  currentChunkIndex = 0;
  document.getElementById('sentenceCounter').textContent = (currentTextIndex + 1) + '/' + randomizedSentences.length;
}

function nextText() {
  currentTextIndex++;
  generateChunk();
}

function resetActivity() {
  currentTextIndex = 0;
  randomizedSentences = shuffleArray([...englishSentences]);
  generateChunk();
  document.getElementById('resetButton').classList.add('hide');
}

function getWordChunks(text) {
  return text.split(/\s+/).filter(Boolean).map(word => [word]);
}

function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

function selectChunk(element) {
  const chunkText = element.textContent;
  const correctChunk = originalChunks[currentChunkIndex].join(' ');

  if (chunkText === correctChunk) {
    const dropZone = document.getElementById('dropZones').children[currentChunkIndex];
    dropZone.textContent = chunkText;
    dropZone.classList.add('correct-chunk');
    element.remove();
    currentChunkIndex++;
    if (currentChunkIndex === originalChunks.length) {
      const feedback = document.getElementById('feedback');
      feedback.textContent = 'All chunks are in the correct order!';
      feedback.classList.remove('hide');
      document.getElementById('nextButton').classList.remove('hide');
    }
  } else {
    element.classList.add('wrong-chunk');
    setTimeout(() => element.classList.remove('wrong-chunk'), 2000);
  }
}
</script>
</body>
</html>

